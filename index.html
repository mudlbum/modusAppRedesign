<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modus - AI Meeting Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        /* Simple transition for screen switching */
        .screen {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    <script>
        // Apply theme from local storage before page loads to prevent flash
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
    </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200">

    <div id="app-container" class="max-w-md mx-auto min-h-screen bg-white dark:bg-gray-800 shadow-2xl shadow-gray-300 dark:shadow-black flex flex-col">
        <!-- Main Content Area --><main class="flex-grow p-6 pb-56 overflow-y-auto">

            <!-- Screen: Home/Dashboard --><div id="screen-home" class="screen space-y-8">
                 <header class="text-center pt-4">
                    <div class="inline-block bg-teal-500 p-2 rounded-full mb-2 shadow-md shadow-teal-200">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-waves"><path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Modus</h1>
                    <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">Your AI Meeting Assistant</p>
                </header>

                <div>
                    <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3">Recent Meetings</h2>
                    <div class="space-y-3">
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-center justify-between">
                            <div>
                                <h3 class="font-semibold dark:text-white">Q4 Project Kick-off</h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Oct 19, 2025 · 45 min</p>
                            </div>
                            <i data-lucide="chevron-right" class="text-gray-400"></i>
                        </div>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-center justify-between">
                            <div>
                                <h3 class="font-semibold dark:text-white">Marketing Sync</h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Oct 18, 2025 · 30 min</p>
                            </div>
                            <i data-lucide="chevron-right" class="text-gray-400"></i>
                        </div>
                    </div>
                </div>

                 <div>
                    <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3">Current</h2>
                    <div class="space-y-3">
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-center justify-between">
                            <div>
                                <h3 class="font-semibold dark:text-white">Project Phoenix</h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Includes technical terms and stakeholder names.</p>
                            </div>
                            <i data-lucide="chevron-right" class="text-gray-400"></i>
                        </div>
                         <button onclick="showScreen('screen-topics')" class="w-full text-teal-600 font-medium py-2 rounded-lg hover:bg-teal-50 dark:hover:bg-teal-900/50 transition">Manage all topics</button>
                    </div>
                </div>
            </div>

            <!-- Screen: Live Meeting --><div id="screen-live" class="screen hidden">
                 <header class="flex items-center justify-between mb-6 pt-4">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Live Meeting</h1>
                        <p class="text-gray-500 dark:text-gray-400 flex items-center space-x-2">
                           <span class="relative flex h-3 w-3">
                              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                              <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
                            </span>
                            <span>Recording... 02:15</span>
                        </p>
                    </div>
                    <button onclick="showScreen('screen-home')" class="bg-red-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-red-600 transition">
                        End
                    </button>
                </header>

                <div class="space-y-6">
                    <!-- AI Insights Section --><div>
                        <h2 class="font-semibold text-lg mb-3 dark:text-white">AI Insights</h2>
                        <div class="bg-yellow-50 dark:bg-gray-700 border border-yellow-200 dark:border-yellow-900 p-4 rounded-xl space-y-3">
                           <div class="flex items-start space-x-3">
                                <i data-lucide="lightbulb" class="text-yellow-600 mt-1 flex-shrink-0"></i>
                                <div>
                                    <h4 class="font-semibold dark:text-yellow-300">Suggestion</h4>
                                    <p class="text-gray-700 dark:text-gray-300 text-sm">Mention the upcoming Q1 budget constraints to frame the resource discussion.</p>
                                </div>
                           </div>
                           <div class="flex items-start space-x-3">
                                <i data-lucide="check-circle-2" class="text-green-500 mt-1 flex-shrink-0"></i>
                                <div>
                                    <h4 class="font-semibold dark:text-green-400">Fact Check</h4>
                                    <p class="text-gray-700 dark:text-gray-300 text-sm">Last quarter's user growth was 15%, not 12%.</p>
                                </div>
                           </div>
                        </div>
                    </div>
                    <!-- Transcript Section --><div>
                        <h2 class="font-semibold text-lg mb-3 dark:text-white">Live Transcript</h2>
                        <div class="space-y-4 h-80 overflow-y-auto bg-gray-100 dark:bg-gray-900 p-4 rounded-xl">
                            <div class="flex items-start space-x-3">
                                <span class="font-semibold text-teal-600 dark:text-teal-400 w-16">You:</span>
                                <p class="flex-1 text-gray-700 dark:text-gray-300">Okay team, let's kick things off. The main agenda for today is to finalize the roadmap for Project Phoenix.</p>
                            </div>
                            <div class="flex items-start space-x-3">
                                <span class="font-semibold text-cyan-600 dark:text-cyan-400 w-16">Sarah:</span>
                                <p class="flex-1 text-gray-700 dark:text-gray-300">Sounds good. I've reviewed the preliminary document, and I have some questions about the resource allocation for the design phase.</p>
                            </div>
                            <div class="flex items-start space-x-3">
                                <span class="font-semibold text-teal-600 dark:text-teal-400 w-16">You:</span>
                                <p class="flex-1 text-gray-700 dark:text-gray-300">Great question. We've budgeted 200 hours for it. Do you think that's sufficient based on the current scope?</p>
                            </div>
                             <div class="flex items-start space-x-3">
                                <span class="font-semibold text-cyan-600 dark:text-cyan-400 w-16">Sarah:</span>
                                <p class="flex-1 text-gray-700 dark:text-gray-300">That might be a little tight, especially if we want to conduct thorough user testing before the beta launch.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Screen: Topics --><div id="screen-topics" class="screen hidden">
                <header class="text-center pt-4 mb-6">
                     <div class="inline-block bg-teal-500 p-2 rounded-full mb-2 shadow-md shadow-teal-200">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-waves"><path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Topics</h1>
                    <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">Improve AI accuracy with custom vocabulary.</p>
                </header>
                 <div class="space-y-3">
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h3 class="font-semibold dark:text-white">Project Phoenix</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Keywords: Aether, Core Ingest, Data Pipeline...</p>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h3 class="font-semibold dark:text-white">Client Onboarding</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Keywords: SLA, Kick-off, Implementation...</p>
                    </div>
                     <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                        <h3 class="font-semibold dark:text-white">Investor Updates</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Keywords: ARR, Churn, Projections, EBITDA...</p>
                    </div>
                    <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 text-center py-8 rounded-lg mt-4">
                        <i data-lucide="folder-plus" class="mx-auto text-gray-400 h-10 w-10 mb-2"></i>
                        <p class="text-gray-500 dark:text-gray-400 font-medium">Create a New Topic</p>
                    </div>
                </div>
            </div>

            <!-- Screen: History --><div id="screen-history" class="screen hidden">
                <header class="text-center pt-4 mb-6">
                    <div class="inline-block bg-teal-500 p-2 rounded-full mb-2 shadow-md shadow-teal-200">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-waves"><path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Meeting History</h1>
                    <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">Review your past recordings and summaries.</p>
                </header>
                <div class="relative mb-4">
                    <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    <input type="text" placeholder="Search meetings..." class="w-full bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-white rounded-lg pl-10 pr-4 py-3 focus:ring-teal-500 focus:border-teal-500">
                </div>
                <div class="space-y-4">
                    <div class="bg-white dark:bg-gray-700/50 border border-gray-200 dark:border-gray-700 p-4 rounded-xl space-y-3 hover:shadow-lg dark:hover:shadow-teal-900/50 hover:border-teal-300 dark:hover:border-teal-500 transition cursor-pointer">
                        <h3 class="font-semibold text-lg dark:text-white">Q4 Project Kick-off</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 line-clamp-2">Summary: Finalized the Q4 roadmap for Project Phoenix, key decisions were made on resource allocation and initial timelines...</p>
                        <div class="text-xs text-gray-500 dark:text-gray-400 flex items-center space-x-4 pt-2">
                             <span class="flex items-center space-x-1"><i data-lucide="calendar" class="w-4 h-4"></i> <span>Oct 19, 2025</span></span>
                             <span class="flex items-center space-x-1"><i data-lucide="clock" class="w-4 h-4"></i> <span>45 min</span></span>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-700/50 border border-gray-200 dark:border-gray-700 p-4 rounded-xl space-y-3 hover:shadow-lg dark:hover:shadow-teal-900/50 hover:border-teal-300 dark:hover:border-teal-500 transition cursor-pointer">
                        <h3 class="font-semibold text-lg dark:text-white">Marketing Sync</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 line-clamp-2">Summary: Discussed the results from the latest social media campaign and planned content for the upcoming holiday season...</p>
                         <div class="text-xs text-gray-500 dark:text-gray-400 flex items-center space-x-4 pt-2">
                             <span class="flex items-center space-x-1"><i data-lucide="calendar" class="w-4 h-4"></i> <span>Oct 18, 2025</span></span>
                             <span class="flex items-center space-x-1"><i data-lucide="clock" class="w-4 h-4"></i> <span>30 min</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Screen: Settings --><div id="screen-settings" class="screen hidden">
                <header class="text-center pt-4 mb-6">
                     <div class="inline-block bg-teal-500 p-2 rounded-full mb-2 shadow-md shadow-teal-200">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-waves"><path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Settings</h1>
                    <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">Manage your app preferences and account.</p>
                </header>
                <div class="space-y-8">
                    <div class="space-y-4">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Appearance</h2>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-center justify-between">
                            <h3 class="font-semibold dark:text-white">Dark Theme</h3>
                            <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                <input type="checkbox" name="theme-toggle" id="theme-toggle" class="theme-toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                                <label for="theme-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 dark:bg-gray-600 cursor-pointer"></label>
                            </div>
                            <style>.theme-toggle-checkbox:checked { right: 0; border-color: #14b8a6; } .theme-toggle-checkbox:checked + .toggle-label { background-color: #14b8a6; }</style>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Voice & AI</h2>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg space-y-3">
                            <h3 class="font-semibold dark:text-white">Voice Profile</h3>
                             <p class="text-sm text-gray-600 dark:text-gray-400">Setting up your voice profile helps the AI distinguish your voice for higher accuracy.</p>
                            <button class="w-full bg-white dark:bg-gray-600 dark:text-white font-semibold py-2 px-4 rounded-lg border border-gray-300 dark:border-gray-500 hover:bg-gray-200 dark:hover:bg-gray-500 transition">Configure Voice Profile</button>
                        </div>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg">
                            <label for="suggestion-length" class="block font-semibold mb-2 dark:text-white">Suggestion Length</label>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Max words for AI-generated talking points.</p>
                            <input id="suggestion-length" type="range" min="10" max="200" value="50" class="w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer accent-teal-500">
                             <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1">
                                <span>Short</span>
                                <span>Medium</span>
                                <span>Long</span>
                            </div>
                        </div>
                    </div>
                     <div class="space-y-4">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100">Account</h2>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-center justify-between">
                            <h3 class="font-semibold dark:text-white">Notifications</h3>
                            <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                <input type="checkbox" name="notification-toggle" id="notification-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer" checked/>
                                <label for="notification-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 dark:bg-gray-600 cursor-pointer"></label>
                            </div>
                            <style>.toggle-checkbox:checked { right: 0; border-color: #14b8a6; } .toggle-checkbox:checked + .toggle-label { background-color: #14b8a6; }</style>
                        </div>
                         <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/30 p-4 rounded-lg flex items-center justify-between cursor-pointer">
                            <h3 class="font-semibold text-red-700 dark:text-red-400">Delete Account</h3>
                            <i data-lucide="trash-2" class="text-red-600 dark:text-red-500"></i>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-100">About</h2>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-center justify-between">
                            <h3 class="font-semibold dark:text-white">App Version</h3>
                            <span class="text-gray-500 dark:text-gray-400">1.0.0</span>
                        </div>
                        <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-center justify-between cursor-pointer">
                            <h3 class="font-semibold dark:text-white">Support</h3>
                            <i data-lucide="chevron-right" class="text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>

        </main>

        <!-- Home Screen Floating Controls and Fade -->
        <div id="home-controls-container" class="fixed bottom-0 left-0 right-0 max-w-md mx-auto z-20 pointer-events-none">
            <!-- Gradient Fade -->
            <div class="absolute bottom-0 w-full h-64 bg-gradient-to-t from-white dark:from-gray-800 to-transparent"></div>
            <!-- Start Meeting Button Container -->
            <div id="start-meeting-container" class="relative px-6 pb-24 pointer-events-auto">
                 <div id="ai-toggles" class="bg-gray-100 dark:bg-gray-900/70 dark:backdrop-blur-sm p-1 rounded-full flex items-center justify-between space-x-1 mb-3">
                    <button class="toggle-btn flex-1 py-2 text-sm font-semibold rounded-full transition-colors duration-300 bg-yellow-300 shadow text-yellow-900">Transcript</button>
                    <button class="toggle-btn flex-1 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 rounded-full transition-colors duration-300">Suggestions</button>
                    <button class="toggle-btn flex-1 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 rounded-full transition-colors duration-300">Fact Check</button>
                    <button class="toggle-btn flex-1 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 rounded-full transition-colors duration-300">Explain</button>
                </div>
                 <button onclick="showScreen('screen-live')" class="w-full bg-teal-500 text-white font-bold py-4 px-6 rounded-xl shadow-xl shadow-teal-300 dark:shadow-teal-800 hover:bg-teal-600 transition-all duration-300 flex items-center justify-center transform hover:scale-105 text-lg">
                    <span>Start</span>
                </button>
            </div>
        </div>
        
        <!-- Topics Screen Floating Action Button -->
        <div id="topics-fab-container" class="hidden">
             <button class="fixed bottom-24 right-6 bg-teal-500 text-white p-4 rounded-full shadow-lg shadow-teal-300 dark:shadow-teal-800 hover:bg-teal-600 transition transform hover:scale-110 z-40">
                <i data-lucide="plus" class="h-6 w-6"></i>
            </button>
        </div>


        <!-- Bottom Navigation --><nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700 z-30">
            <div class="flex justify-around h-20">
                <button onclick="showScreen('screen-home')" data-nav="screen-home" class="nav-item flex-1 flex flex-col items-center justify-center text-teal-600">
                    <i data-lucide="home"></i>
                    <span class="text-xs font-medium mt-1">Home</span>
                </button>
                <button onclick="showScreen('screen-topics')" data-nav="screen-topics" class="nav-item flex-1 flex flex-col items-center justify-center text-gray-500 dark:text-gray-400">
                    <i data-lucide="folder-kanban"></i>
                    <span class="text-xs font-medium mt-1">Topics</span>
                </button>
                <button onclick="showScreen('screen-history')" data-nav="screen-history" class="nav-item flex-1 flex flex-col items-center justify-center text-gray-500 dark:text-gray-400">
                    <i data-lucide="history"></i>
                    <span class="text-xs font-medium mt-1">History</span>
                </button>
                <button onclick="showScreen('screen-settings')" data-nav="screen-settings" class="nav-item flex-1 flex flex-col items-center justify-center text-gray-500 dark:text-gray-400">
                    <i data-lucide="settings"></i>
                    <span class="text-xs font-medium mt-1">Settings</span>
                </button>
            </div>
        </nav>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        const screens = document.querySelectorAll('.screen');
        const navItems = document.querySelectorAll('.nav-item');
        const homeControlsContainer = document.getElementById('home-controls-container');
        const topicsFabContainer = document.getElementById('topics-fab-container');
        const toggleContainer = document.getElementById('ai-toggles');
        const themeToggle = document.getElementById('theme-toggle');

        // AI Toggle functionality
        if (toggleContainer) {
            const toggleButtons = toggleContainer.querySelectorAll('.toggle-btn');
            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    toggleButtons.forEach(btn => {
                        btn.classList.remove('bg-yellow-300', 'shadow', 'text-yellow-900');
                        btn.classList.add('text-gray-500', 'dark:text-gray-400');
                    });
                    button.classList.add('bg-yellow-300', 'shadow', 'text-yellow-900');
                    button.classList.remove('text-gray-500', 'dark:text-gray-400');
                });
            });
        }

        // Screen Navigation
        function showScreen(screenId) {
            screens.forEach(screen => screen.classList.add('hidden'));
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) targetScreen.classList.remove('hidden');
            
            homeControlsContainer.style.display = (screenId === 'screen-home') ? 'block' : 'none';
            topicsFabContainer.style.display = (screenId === 'screen-topics') ? 'block' : 'none';

            navItems.forEach(item => {
                const isTarget = item.getAttribute('data-nav') === screenId;
                item.classList.toggle('text-teal-600', isTarget);
                item.classList.toggle('dark:text-teal-400', isTarget);
                item.classList.toggle('text-gray-500', !isTarget);
                item.classList.toggle('dark:text-gray-400', !isTarget);
            });

            if (screenId === 'screen-live') {
                navItems.forEach(item => {
                    item.classList.remove('text-teal-600', 'dark:text-teal-400');
                    item.classList.add('text-gray-500', 'dark:text-gray-400');
                });
            }
        }

        // Theme Toggling
        function handleThemeToggle() {
            if (themeToggle.checked) {
                document.documentElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            } else {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            }
        }

        // Set initial state on load
        function initializeApp() {
            // Set initial theme toggle state
            if (document.documentElement.classList.contains('dark')) {
                themeToggle.checked = true;
            }
            // Attach theme toggle listener
            themeToggle.addEventListener('change', handleThemeToggle);

            // Show the initial screen
            showScreen('screen-home');
        }

        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>

